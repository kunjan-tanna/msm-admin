(this["webpackJsonpmedical-store-management"]=this["webpackJsonpmedical-store-management"]||[]).push([[14],{187:function(e,t,a){"use strict";a.r(t);var n=a(52),r=a.n(n),c=a(53),s=a(19),o=a(20),u=a(23),i=a(22),l=a(0),m=a.n(l),d=(a(84),a(79)),f=a(80),p=a(81),b=a(189),v=a(74),h=a(75),g=a(82),E=a(62),O=a(169),w=a.n(O),N=(a(188),a(66)),x=a(18),I=a(94),y=a.n(I),T=a(56),D=(a(55),{headCells:{style:{color:"red"}}}),k=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleFilter=function(e){var t=e.target.value,a=n.state.rowData;console.log("abc",a);var r=n.state.filteredData;n.setState({value:t}),t.length&&(r=a.filter((function(e){var a=e.rowData.toLowerCase().startsWith(t.toLowerCase()),n=e.rowData.toLowerCase().includes(t.toLowerCase());return a||(!a&&n?n:null)})),n.setState({filteredData:r}))},n.state={rowData:[],userInfo:[],userdata:n.props.userInfo,count:0,columns:[{name:"Number",selector:"count",maxWidth:"10px"},{name:"Product Name",selector:"productName",sortable:!0,maxWidth:"250px"},{name:"Category",selector:"categoryId.categotyName",sortable:!0,maxWidth:"200px",cell:function(e){return e&&e.categoryId?e.categoryId.categotyName:""}},{name:"Quantity",selector:"quantity",sortable:!0,maxWidth:"200px"},{name:"Unit",selector:"packageId.packageName",sortable:!0,maxWidth:"200px",cell:function(e){return e&&e.packageId?e.packageId.packageName:""}},{name:"Items",selector:"totalNoOfItem",sortable:!0,maxWidth:"200px"},{name:"Unit",selector:"packageTypeId.packageTypeName",sortable:!0,maxWidth:"200px",cell:function(e){return e&&e.packageTypeId?e.packageTypeId.packageTypeName:""}},{name:"SubItems",selector:"totalNoOfQuantity",sortable:!0,maxWidth:"200px"},{name:"MRP Rate",selector:"MRPRate",sortable:!0,maxWidth:"200px"},{name:"Purchase Rate",selector:"purchaseRate",sortable:!0,maxWidth:"200px"},{name:"Sale Rate",selector:"saleRate",sortable:!0,maxWidth:"200px"},{name:"Date Created",selector:"createdAt",sortable:!0,maxWidth:"200px",cell:function(e){return e?"".concat(y()(e.createdAt).format("MM-DD-YYYY")):""}}],filteredData:[],value:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.dispatch(T.c(this.state.userdata._id)).then((function(e){t.setState({userInfo:e.data})})),this.props.dispatch(N.b()).then((function(e){console.log("get POST----",e);var a=e.data.filter((function(e){if(e.userId===t.state.userInfo._id)return e}));a.map((function(e,t){e.count=t+1})),t.setState({rowData:a})}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.columns,a=e.userInfo;return m.a.createElement(d.a,null,m.a.createElement(f.a,{sm:"12"},m.a.createElement(E.a,null),m.a.createElement(p.a,{body:!0,inverse:!0,style:{backgroundColor:"#333",borderColor:"#333"}},m.a.createElement(d.a,null,m.a.createElement(f.a,{sm:"12"},m.a.createElement("div",{className:"d-flex justify-content-center"},m.a.createElement("h2",null,a&&a.ownerOf?a.ownerOf:"Please Wait....."))),m.a.createElement(f.a,{sm:"12"},m.a.createElement("div",{className:"d-flex justify-content-center"},m.a.createElement(b.a,{className:"text-muted"},a&&a.address?a.address:"Please Wait....."))))),m.a.createElement(p.a,null,m.a.createElement(v.a,null,m.a.createElement(h.a,null,m.a.createElement("strong",null,"Stock Report- All Products"))),m.a.createElement(g.a,{className:"rdt_Wrapper"},m.a.createElement(w.a,{className:"dataTable-custom",data:this.state.rowData,columns:t,customStyles:D,noHeader:!0,fixedHeader:!0,fixedHeaderScrollHeight:"300px"})))))}}]),a}(m.a.Component);t.default=Object(x.b)((function(e){return{userInfo:e.auth.login.userInfo}}))(k)},50:function(e,t,a){"use strict";var n=a(64),r=a.n(n);a(65).config();var c=r.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/msm-admin",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).API_URL||"https://fast-bastion-32942.herokuapp.com/api/"});t.a=c},56:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return i}));var n=a(52),r=a.n(n),c=a(53),s=a(50),o=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,ownerOf:e.ownerOf,address:e.address,mobile:e.mobile},t.next=3,s.a.post("create/users",n);case 3:return c=t.sent,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/get/users/".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},i=function(e,t){return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,o;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={userId:t._id,firstName:t.firstName,lastName:t.lastName,email:t.email,ownerOf:t.ownerOf,address:t.address,mobile:t.mobile,status:t.status},console.log("ADD USER",t),a.next=4,s.a.put("/edit/users/".concat(e),c);case 4:return o=a.sent,a.abrupt("return",o);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},60:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o}));var n=a(54),r=a(50),c=a(57),s=(a(55),function(e){return function(t){r.a.post("/signin",{email:e.email,password:e.password}).then((function(e){var a=e.data.user;a?(t({type:"LOGIN_WITH_JWT",payload:{userInfo:a,accessToken:e.data.token}}),c.b.success("Login Successfully",{position:c.b.POSITION.BOTTOM_RIGHT}),setTimeout((function(){n.a.push("/")}),2e3)):c.b.success("User email doesn't exist",{position:c.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){c.b.error("User email doesn't exist",{position:c.b.POSITION.BOTTOM_RIGHT})}))}}),o=function(){return function(e){e({type:"LOGOUT"}),n.a.push("/login")}}},62:function(e,t,a){"use strict";var n=a(71),r=a(0),c=a.n(r),s=a(21),o=a(9),u=a(177),i=a(178),l=a(179),m=a(180),d=a(181),f=a(182),p=a(198),b=a(199),v=a(200),h=a(183),g=a(184),E=a(185),O=a(60),w=a(18),N=a(56);t.a=Object(w.b)((function(e){return{userInfo:e.auth.login.userInfo}}),(function(e){return{logout:function(){return e(Object(O.b)())},dispatch:e}}))(Object(o.g)((function(e){console.log("LOGOUT",e);var t=Object(r.useState)(!1),a=Object(n.a)(t,2),o=a[0],O=a[1],w=Object(r.useState)({rowData:[]}),x=Object(n.a)(w,2),I=x[0],y=x[1];return Object(r.useEffect)((function(){var t=e.userInfo._id;e.dispatch(N.c(t)).then((function(e){console.log("BY Id",e),e&&y({rowData:e.data})}))}),[]),c.a.createElement("div",null,c.a.createElement(u.a,{color:"light",light:!0,expand:"md"},c.a.createElement(i.a,{onClick:function(){return O(!o)}}),c.a.createElement(l.a,{isOpen:o,navbar:!0},c.a.createElement(m.a,{className:"mr-auto",navbar:!0},c.a.createElement(d.a,null,c.a.createElement(f.a,{tag:s.b,to:"/",activeClassName:"active",exact:!0},"Dashboard")),c.a.createElement(p.a,{nav:!0,inNavbar:!0},c.a.createElement(b.a,{nav:!0,caret:!0},"Medicine"),c.a.createElement(v.a,{left:"true"},c.a.createElement(h.a,{tag:s.b,to:"/add/medicine",activeClassName:"active"},"Add Medicine"))),c.a.createElement(p.a,{nav:!0,inNavbar:!0},c.a.createElement(b.a,{nav:!0,caret:!0},"Transaction"),c.a.createElement(v.a,{left:"true"},c.a.createElement(h.a,{tag:s.b,to:"/add/purchase",activeClassName:"active"},"Purchase"),c.a.createElement(h.a,{tag:s.b,to:"/add/sale",activeClassName:"active"},"Sale"))),c.a.createElement(p.a,{nav:!0,inNavbar:!0},c.a.createElement(b.a,{nav:!0,caret:!0},"Search"),c.a.createElement(v.a,{left:"true"},c.a.createElement(h.a,{tag:s.b,to:"/show/sale",activeClassName:"active"},"Customer Sales Details"),c.a.createElement(h.a,{tag:s.b,to:"/show/purchase",activeClassName:"active"},"Supplier Sales Details"))),c.a.createElement(d.a,null,c.a.createElement(f.a,{tag:s.b,to:"/show/medicine",activeClassName:"active"},"Current Stock"))),c.a.createElement(p.a,null,c.a.createElement(b.a,{tag:"a","data-toggle":"dropdown",className:"nav-link dropdown-user-link"},c.a.createElement("div",{className:"user-nav d-sm-flex d-none"},c.a.createElement("span",null,"Owner of :"," ",c.a.createElement("strong",null,I.rowData&&I.rowData.ownerOf?I.rowData.ownerOf:"loading...")),"\xa0",console.log("DATTTAAA",I.rowData),c.a.createElement("span",null,"Username :"," ",c.a.createElement("strong",null,I.rowData&&I.rowData.lastName?I.rowData.lastName:"Loading...")))),c.a.createElement(v.a,{right:!0},c.a.createElement(h.a,{tag:s.b,to:"/edit/profile",activeClassName:"active"},c.a.createElement(g.a,{size:14,className:"mr-50"}),"\xa0",c.a.createElement("span",{className:"align-middle"},"Edit Profile")),c.a.createElement(h.a,{onClick:function(t){return e.logout(),void e.history.push("/login")}},c.a.createElement(E.a,{size:14,className:"mr-50"}),"\xa0",c.a.createElement("span",{className:"align-bottom"},"logout")))))))})))},66:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return i}));var n=a(52),r=a.n(n),c=a(53),s=a(50),o=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.post("create/medicine",e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},u=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/medicine");case 2:return(a=e.sent)&&t({type:"GET_MEDICINE",payload:a.data}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},i=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.get("/get/medicine/".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=14.79594833.chunk.js.map