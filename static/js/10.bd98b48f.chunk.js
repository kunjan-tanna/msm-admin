(this["webpackJsonpmedical-store-management"]=this["webpackJsonpmedical-store-management"]||[]).push([[10],{195:function(e,a,t){"use strict";t.r(a);var n=t(61),r=t(66),c=t(20),s=t(21),l=t(23),o=t(22),u=t(0),i=t.n(u),m=t(74),p=t(75),d=t(76),f=t(77),h=t(78),b=t(79),E=t(86),g=t(87),v=t(88),O=t(80),k=t(144),y=t(60),I=t(59),N=(t(56),t(163),t(171)),T=t(55),C=t(18),S=t(57),D=t.n(S),w=t(58),P=t(50),R=t(85),j=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(e){var s;return Object(c.a)(this,t),(s=a.call(this,e)).handleInput=function(e){e.persist(),s.setState((function(a){return{formData:Object(r.a)(Object(r.a)({},a.formData),{},Object(n.a)({},e.target.name,e.target.value))}}),(function(){var e=s.state.formData.MRPRate/s.state.formData.noOfItemPack;s.setState({result:e});var a=e/s.state.formData.noOfSubItemPack;s.setState({SubItem:a})}))},s.handleQuantity=function(e){e.persist(),s.setState((function(a){return{formData:Object(r.a)(Object(r.a)({},a.formData),{},Object(n.a)({},e.target.name,e.target.value))}}),(function(){var e=s.state.formData.noOfItemPack*s.state.formData.noOfSubItemPack;console.log("itempack",e),s.setState({itemInPack:e});var a=s.state.formData.quantity*e;s.setState({totalQuantity:a})}))},s.handleChange=function(e,a){s.setState((function(t){return{formData:Object(r.a)(Object(r.a)({},t.formData),{},Object(n.a)({},e,a.value))}}),(function(){return console.log("dattattaa",a)}))},s.handleFormSubmit=function(){var e=s.state.formData;e.itemUnitCost=s.state.result,e.subItemUnitCost=s.state.SubItem,e.totalNoOfItem=s.state.itemInPack,e.totalNoOfQuantity=s.state.totalQuantity,console.log("FORMSAATATA",e),s.props.dispatch(R.a(e)).then((function(e){console.log("Medicine Data",e),e.data&&e.data.client?(I.b.success("Add Medicine Successfully",{position:I.b.POSITION.BOTTOM_RIGHT}),setTimeout((function(){T.a.push("/show/medicine")}),3e3)):I.b.error("Add Medicine not Successfully",{position:I.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){I.b.error("Add Medicine not Successfully",{position:I.b.POSITION.BOTTOM_RIGHT})}))},s.state={categories:s.props.categories,packages:s.props.packages,racks:s.props.racks,packgeTypes:s.props.packageType,result:"",SubItem:"",totalQuantity:"",itemInPack:"",formData:{}},s}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(function(){var e=Object(w.a)(D.a.mark((function e(a){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("/category");case 2:return(t=e.sent)&&a({type:"CATEGORY",payload:t.data}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),this.props.dispatch(function(){var e=Object(w.a)(D.a.mark((function e(a){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("/package");case 2:return(t=e.sent)&&a({type:"PACKAGE",payload:t.data}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),this.props.dispatch(function(){var e=Object(w.a)(D.a.mark((function e(a){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("/rack");case 2:return(t=e.sent)&&a({type:"RACK",payload:t.data}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),this.props.dispatch(function(){var e=Object(w.a)(D.a.mark((function e(a){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("/packageType");case 2:return(t=e.sent)&&a({type:"PACKAGETYPE",payload:t.data}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,null,i.a.createElement(p.a,{sm:"12"},i.a.createElement(y.a,null),i.a.createElement(d.a,null,i.a.createElement(f.a,null,i.a.createElement(h.a,null,i.a.createElement("h4",{className:"mb-0"},"Add Medicine")),i.a.createElement(b.a,{body:!0,inverse:!0,style:{backgroundColor:"#7EBDE4",borderColor:"#7EBDE4"}},i.a.createElement(E.a,{onSubmit:function(a){a.preventDefault(),e.handleFormSubmit()}},i.a.createElement(p.a,{sm:"12"},i.a.createElement(m.a,null,i.a.createElement(p.a,{md:"4",sm:"12"},i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"name"},"Product Name"),i.a.createElement(O.a,{type:"text",id:"productName",name:"productName",placeholder:"Product Name",onChange:this.handleInput}))),i.a.createElement(p.a,{md:"4",sm:"12"},i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"name"},"Category Name"),i.a.createElement(N.a,{isClearable:!1,options:this.state.categories,className:"React",classNamePrefix:"select",id:"categoryId",name:"categoryId",onChange:function(a){return e.handleChange("categoryId",a)}}))),i.a.createElement(p.a,{md:"4",sm:"12"},i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"name"},"Package Name"),i.a.createElement(N.a,{isClearable:!1,options:this.state.packages,className:"React",classNamePrefix:"select",id:"packageId",name:"packageId",onChange:function(a){return e.handleChange("packageId",a)}}))),i.a.createElement(p.a,{md:"4",sm:"12"},i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"number"},"Purchase Rate"),i.a.createElement(O.a,{type:"number",id:"purchaseRate",placeholder:"Purchase Rate",name:"purchaseRate",onChange:this.handleInput}))),i.a.createElement(p.a,{md:"4",sm:"12"},i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"number"},"MRP Rate"),i.a.createElement(O.a,{required:!0,type:"number",id:"MRPRate",placeholder:"MRP Rate",name:"MRPRate",onChange:this.handleInput}))),i.a.createElement(p.a,{md:"4",sm:"12"},i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"number"},"Sale Rate"),i.a.createElement(O.a,{type:"number",id:"saleRate",placeholder:"Sale Rate",name:"saleRate",onChange:this.handleInput}))),i.a.createElement(p.a,{md:"3",sm:"12"},i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"number"},"No.of Item Pack"),i.a.createElement(O.a,{required:!0,type:"number",id:"noOfItemPack",placeholder:"No.of Item Pack",name:"noOfItemPack",onChange:this.handleInput}))),i.a.createElement(p.a,{md:"3",sm:"12"},i.a.createElement(g.a,{style:{paddingTop:"30px"}},i.a.createElement(N.a,{isClearable:!1,options:this.state.packageTypes,className:"React",classNamePrefix:"select",id:"packageTypeId",name:"packageTypeId",onChange:function(a){return e.handleChange("packageTypeId",a)}}))),i.a.createElement(p.a,{md:"4",sm:"12"},i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"number"},"Item Unit Cost"),i.a.createElement(O.a,{disabled:!0,type:"number",id:"itemUnitCost",placeholder:"Item Unit Cost",name:"itemUnitCost",value:this.state.formData&&this.state.result?this.state.result:""}))),i.a.createElement(p.a,{md:"3",sm:"12"},i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"number"},"No.of SubItem Pack"),i.a.createElement(O.a,{required:!0,type:"number",id:"noOfSubItemPack",placeholder:"No.of SubItem Pack",name:"noOfSubItemPack",onChange:this.handleInput}))),i.a.createElement(p.a,{md:"3",sm:"12"},i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"number"},"SubItem Unit Cost"),i.a.createElement(O.a,{disabled:!0,type:"number",id:"subItemUnitCost",placeholder:"SubItem Unit Cost",name:"subItemUnitCost",value:this.state.formData&&this.state.SubItem?this.state.SubItem:""}))),i.a.createElement(p.a,{md:"3",sm:"12"},i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"number"},"Manufecturing Date"),i.a.createElement(O.a,{type:"date",id:"manufecturingDate",placeholder:"Manufecturing Date",name:"manufecturingDate",onChange:this.handleInput}))),i.a.createElement(p.a,{md:"3",sm:"12"},i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"number"},"Expire Date"),i.a.createElement(O.a,{type:"date",id:"expireDate",placeholder:"Expire Date",name:"expireDate",onChange:this.handleInput}))),i.a.createElement(p.a,{md:"3",sm:"12"},i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"number"},"Quantity"),i.a.createElement(O.a,{required:!0,type:"number",id:"quantity",placeholder:"Quantity",name:"quantity",onChange:this.handleQuantity}))),i.a.createElement(p.a,{md:"3",sm:"12"},i.a.createElement(g.a,{style:{paddingTop:"30px"}},i.a.createElement(O.a,{disabled:!0,type:"number",id:"totalNoOfItem",placeholder:"Total No.Of Item",name:"totalNoOfItem",value:this.state.formData&&this.state.itemInPack?this.state.itemInPack:""}))),i.a.createElement(p.a,{md:"3",sm:"12"},i.a.createElement(g.a,{style:{paddingTop:"30px"}},i.a.createElement(O.a,{disabled:!0,type:"number",id:"totalNoOfQuantity",placeholder:"Total No.Of Quantity",name:"totalNoOfQuantity",value:this.state.formData&&this.state.totalQuantity?this.state.totalQuantity:""}))),i.a.createElement(p.a,{md:"3",sm:"12"},i.a.createElement(d.a,null,i.a.createElement(f.a,null,i.a.createElement(h.a,null,i.a.createElement("strong",null,"Rack Entry")),i.a.createElement(b.a,null,i.a.createElement(m.a,null,i.a.createElement(p.a,null,i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"name"},"Weight"),i.a.createElement(O.a,{type:"text",id:"weight",name:"weight",placeholder:"Weight",onChange:this.handleInput})),i.a.createElement(g.a,null,i.a.createElement(v.a,{for:"name"},"Rack Number"),i.a.createElement(N.a,{isClearable:!1,options:this.state.racks,className:"React",classNamePrefix:"select",id:"rackId",name:"rackId",onChange:function(a){return e.handleChange("rackId",a)}})))))))),i.a.createElement(p.a,{className:"d-flex justify-content-center flex-wrap mt-2",sm:"12"},i.a.createElement(k.a,{className:"mr-1",color:"primary",type:"submit"},"Add Medicine")," ","\xa0",i.a.createElement(I.a,null),i.a.createElement(k.a,{color:"primary",outline:!0,onClick:function(){return e.handleReset()},type:"button"},"Reset"))))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t={};if(e.categories&&e.categories.length&&e.categories!==a.categories){var n=e.categories.map((function(e){return{label:e.categotyName,value:e._id}}));Object.assign(t,{categories:n})}if(e.packages&&e.packages.length&&e.packages!==a.packages){var r=e.packages.map((function(e){return{label:e.packageName,value:e._id}}));Object.assign(t,{packages:r})}if(e.packageTypes&&e.packageTypes.length&&e.packageTypes!==a.packageTypes){var c=e.packageTypes.map((function(e){return{label:e.packageTypeName,value:e._id}}));Object.assign(t,{packageTypes:c})}if(e.racks&&e.racks.length&&e.racks!==a.racks){var s=e.racks.map((function(e){return{label:e.rackName,value:e._id}}));Object.assign(t,{racks:s})}return 0!==Object.keys(t).length?t:null}}]),t}(i.a.Component);a.default=Object(C.b)((function(e){return{categories:e.global.categories,packages:e.global.packages,racks:e.global.racks,packageTypes:e.global.packageTypes}}))(j)},50:function(e,a,t){"use strict";var n=t(63),r=t.n(n);t(64).config();var c=r.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/msm-admin",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).API_URL||"https://fast-bastion-32942.herokuapp.com/api/"});a.a=c},52:function(e,a,t){"use strict";t.d(a,"a",(function(){return l})),t.d(a,"c",(function(){return o})),t.d(a,"b",(function(){return u}));var n=t(57),r=t.n(n),c=t(58),s=t(50),l=function(e){return function(){var a=Object(c.a)(r.a.mark((function a(t){var n,c;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,ownerOf:e.ownerOf,address:e.address,mobile:e.mobile},a.next=3,s.a.post("create/users",n);case 3:return c=a.sent,a.abrupt("return",c);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},o=function(e){return function(){var a=Object(c.a)(r.a.mark((function a(t){var n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.get("/get/users/".concat(e));case 2:return n=a.sent,a.abrupt("return",n);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},u=function(e,a){return function(){var t=Object(c.a)(r.a.mark((function t(n){var c,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={userId:a._id,firstName:a.firstName,lastName:a.lastName,email:a.email,ownerOf:a.ownerOf,address:a.address,mobile:a.mobile,status:a.status},console.log("ADD USER",a),t.next=4,s.a.put("/edit/users/".concat(e),c);case 4:return l=t.sent,t.abrupt("return",l);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},53:function(e,a,t){"use strict";t.d(a,"a",(function(){return s})),t.d(a,"b",(function(){return l}));var n=t(55),r=t(50),c=t(59),s=(t(56),function(e){return function(a){r.a.post("/signin",{email:e.email,password:e.password}).then((function(e){var t=e.data.user;t?(a({type:"LOGIN_WITH_JWT",payload:{userInfo:t,accessToken:e.data.token}}),c.b.success("Login Successfully",{position:c.b.POSITION.BOTTOM_RIGHT}),setTimeout((function(){n.a.push("/")}),2e3)):c.b.success("User email doesn't exist",{position:c.b.POSITION.BOTTOM_RIGHT})})).catch((function(e){c.b.error("User email doesn't exist",{position:c.b.POSITION.BOTTOM_RIGHT})}))}}),l=function(){return function(e){e({type:"LOGOUT"}),n.a.push("/login")}}},60:function(e,a,t){"use strict";var n=t(68),r=t(0),c=t.n(r),s=t(19),l=t(9),o=t(175),u=t(176),i=t(177),m=t(178),p=t(179),d=t(180),f=t(196),h=t(197),b=t(198),E=t(181),g=t(182),v=t(183),O=t(53),k=t(18),y=t(52);a.a=Object(k.b)((function(e){return{userInfo:e.auth.login.userInfo}}),(function(e){return{logout:function(){return e(Object(O.b)())},dispatch:e}}))(Object(l.g)((function(e){console.log("LOGOUT",e);var a=Object(r.useState)(!1),t=Object(n.a)(a,2),l=t[0],O=t[1],k=Object(r.useState)({rowData:[]}),I=Object(n.a)(k,2),N=I[0],T=I[1];return Object(r.useEffect)((function(){var a=e.userInfo._id;e.dispatch(y.c(a)).then((function(e){console.log("BY Id",e),e&&T({rowData:e.data})}))}),[]),c.a.createElement("div",null,c.a.createElement(o.a,{color:"light",light:!0,expand:"md"},c.a.createElement(u.a,{onClick:function(){return O(!l)}}),c.a.createElement(i.a,{isOpen:l,navbar:!0},c.a.createElement(m.a,{className:"mr-auto",navbar:!0},c.a.createElement(p.a,null,c.a.createElement(d.a,{tag:s.b,to:"/",activeClassName:"active",exact:!0},"Dashboard")),c.a.createElement(f.a,{nav:!0,inNavbar:!0},c.a.createElement(h.a,{nav:!0,caret:!0},"Medicine"),c.a.createElement(b.a,{left:"true"},c.a.createElement(E.a,{tag:s.b,to:"/add/medicine",activeClassName:"active"},"Add Medicine"))),c.a.createElement(f.a,{nav:!0,inNavbar:!0},c.a.createElement(h.a,{nav:!0,caret:!0},"Transaction"),c.a.createElement(b.a,{left:"true"},c.a.createElement(E.a,{tag:s.b,to:"/add/purchase",activeClassName:"active"},"Purchase"),c.a.createElement(E.a,{tag:s.b,to:"/add/sale",activeClassName:"active"},"Sale"))),c.a.createElement(f.a,{nav:!0,inNavbar:!0},c.a.createElement(h.a,{nav:!0,caret:!0},"Search"),c.a.createElement(b.a,{left:"true"},c.a.createElement(E.a,{tag:s.b,to:"/show/sale",activeClassName:"active"},"Customer Sales Details"),c.a.createElement(E.a,{tag:s.b,to:"/show/purchase",activeClassName:"active"},"Supplier Sales Details"))),c.a.createElement(p.a,null,c.a.createElement(d.a,{tag:s.b,to:"/show/medicine",activeClassName:"active"},"Current Stock"))),c.a.createElement(f.a,null,c.a.createElement(h.a,{tag:"a","data-toggle":"dropdown",className:"nav-link dropdown-user-link"},c.a.createElement("div",{className:"user-nav d-sm-flex d-none"},c.a.createElement("span",null,"Owner of :"," ",c.a.createElement("strong",null,N.rowData&&N.rowData.ownerOf?N.rowData.ownerOf:"loading...")),"\xa0",console.log("DATTTAAA",N.rowData),c.a.createElement("span",null,"Username :"," ",c.a.createElement("strong",null,N.rowData&&N.rowData.lastName?N.rowData.lastName:"Loading...")))),c.a.createElement(b.a,{right:!0},c.a.createElement(E.a,{tag:s.b,to:"/edit/profile",activeClassName:"active"},c.a.createElement(g.a,{size:14,className:"mr-50"}),"\xa0",c.a.createElement("span",{className:"align-middle"},"Edit Profile")),c.a.createElement(E.a,{onClick:function(a){return e.logout(),void e.history.push("/login")}},c.a.createElement(v.a,{size:14,className:"mr-50"}),"\xa0",c.a.createElement("span",{className:"align-bottom"},"logout")))))))})))},85:function(e,a,t){"use strict";t.d(a,"a",(function(){return l})),t.d(a,"b",(function(){return o}));var n=t(57),r=t.n(n),c=t(58),s=t(50),l=function(e){return function(){var a=Object(c.a)(r.a.mark((function a(t){var n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.post("create/medicine",e);case 2:return n=a.sent,a.abrupt("return",n);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},o=function(){return function(){var e=Object(c.a)(r.a.mark((function e(a){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/medicine");case 2:return(t=e.sent)&&a({type:"GET_MEDICINE",payload:t.data}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=10.bd98b48f.chunk.js.map